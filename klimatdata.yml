name: "Gateway with API proxy to 3:th-party services"
description: "Pattern for handling HTTP request-response interactions."
flow:
  - name: "Git Repo: config.json"
  - name: "Azure DevOps"
    dependsOn: ["Git Repo: config.json"]
  - name: "App Configuration"
    dependsOn: ["Azure DevOps"]
  - name: "Logic App: INT2003 App Settings"
    dependsOn: ["App Configuration"]
  - name: "Logic App: INT2003"
    dependsOn: ["Logic App: Service Bus Trigger", "Logic App: INT2003 App Settings"]
  - name: "Logic App: INT2002 App Settings"
    dependsOn: ["App Configuration"]
  - name: "Client"
  - name: "Internal API: KlimateData"
    dependsOn: ["Client"]
  - name: "Logic App: INT2002"
    dependsOn: ["Logic App: INT2002 App Settings", "Internal API: KlimateData"]
  - name: "Logic App: Service Bus Trigger"
    dependsOn: ["Service Bus: Subscription"]
  - name: "LookUp Table"
    dependsOn: ["Logic App: INT2003","Logic App: INT2002"]
  - name: "Service Bus: Topic"
    dependsOn: ["Webhook Receiver"]
  - name: "Service Bus: Subscription"
    dependsOn: ["Service Bus: Topic"]
  - name: "ClientX"
    dependsOn: ["Logic App: INT2003"]
  - name: "ClientY"
    dependsOn: ["Logic App: INT2003"]
  - name: "ClientZ"
    dependsOn: ["Logic App: INT2003"]
  - name: "Webhook Receiver"
  - name: "Tickstar API"
    dependsOn: ["Logic App: INT2002"]
    

networks:
 - name: "Public"
 - name: "Private"